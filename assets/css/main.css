@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@utility prose-2xl {
  max-width: 80ch !important;
  font-size: 110%;
}

/* Prevent layout shifts during image loading */
img {
  /* Ensure images maintain their aspect ratio during loading */
  height: auto;
  max-width: 100%;
  /* Prevent layout shifts by ensuring dimensions are respected */
  display: block;
}

/* Optimize image loading performance */
img[loading="lazy"] {
  /* Use content-visibility for better performance where supported */
  content-visibility: auto;
  /* Fallback for browsers that don't support content-visibility */
  contain: layout style paint;
}

/* Hero container and image optimizations */
.hero-container {
  /* Reserve space immediately to prevent layout shifts */
  width: 100%;
  max-width: 576px;
  /* Fixed aspect ratio to prevent any shifts */
  aspect-ratio: 1 / 1;
  /* Ensure proper containment */
  contain: layout style;
  /* Prevent any overflow issues */
  overflow: hidden;
}

.hero-image {
  /* Responsive width that respects container constraints */
  width: 100%;
  height: auto;
  max-width: 576px;
  /* Fixed aspect ratio */
  aspect-ratio: 1 / 1;
  /* Prevent any layout shifts during loading */
  contain: layout style paint;
  /* Ensure image fits within container */
  object-fit: cover;
  /* Prevent any size changes */
  flex-shrink: 0;
}

/* Specific aspect ratio containers for common image sizes */
.aspect-square {
  aspect-ratio: 1 / 1;
}

.aspect-video {
  aspect-ratio: 16 / 9;
}

@theme {
  /* Content paths for Hugo */
  --content: "layouts/**/*.html", "content/**/*.md", "assets/**/*.js";
  
  /* Efficient safelist using Tailwind patterns for development */
  --safelist: 
    /* Layout & Spacing patterns */
    "container", "mx-auto",
    "p-*", "px-*", "py-*", "pt-*", "pb-*", "pl-*", "pr-*",
    "m-*", "mx-*", "my-*", "mt-*", "mb-*", "ml-*", "mr-*",
    "space-x-*", "space-y-*",
    
    /* Flexbox & Grid patterns */
    "flex", "flex-*", "items-*", "justify-*", "content-*",
    "grid", "grid-cols-*", "col-span-*", "row-span-*",
    "gap-*", "gap-x-*", "gap-y-*",
    
    /* Sizing patterns */
    "w-*", "h-*", "max-w-*", "max-h-*", "min-w-*", "min-h-*",
    
    /* Color patterns */
    "bg-*", "text-*", "border-*", "ring-*", "divide-*",
    
    /* Typography patterns */
    "text-*", "font-*", "leading-*", "tracking-*",
    
    /* Border & Radius patterns */
    "border", "border-*", "rounded", "rounded-*",
    
    /* Shadow patterns */
    "shadow", "shadow-*",
    
    /* Display & Layout */
    "block", "inline-block", "inline", "flex", "inline-flex", "grid", "inline-grid", "hidden",
    "overflow-*", "object-*",
    
    /* Position patterns */
    "static", "fixed", "absolute", "relative", "sticky",
    "inset-*", "top-*", "right-*", "bottom-*", "left-*",
    "z-*",
    
    /* Responsive patterns */
    "sm:*", "md:*", "lg:*", "xl:*", "2xl:*",
    
    /* State patterns */
    "hover:*", "focus:*", "active:*", "disabled:*", "visited:*",
    "dark:*", "group-hover:*", "group-focus:*",
    
    /* Form & Interaction patterns */
    "placeholder:*", "focus-within:*", "focus-visible:*",
    
    /* Animation & Transition patterns */
    "transition", "transition-*", "duration-*", "delay-*", "ease-*",
    "animate-*", "transform", "transform-*",
    
    /* Custom classes */
    "prose-2xl";
  
  /*
   * ─── COLOR SCHEME ───────────────────────────────────────────
   * Ported from Docsy (Bootstrap) to match the original site feel.
   *
   * Docsy originals:
   *   --bs-primary:   #30638e  (steel blue)
   *   --bs-secondary: #ffa630  (amber/orange)
   *   --bs-success:   #3772ff  (bright blue)
   *   --bs-info:      #c0e0de  (light teal)
   *   --bs-warning:   #ed6a5a  (coral)
   *   --bs-danger:    #ed6a5a  (coral)
   *   --bs-dark:      #403f4c  (dark slate)
   *   --bs-light:     #d3f3ee  (pale mint)
   * ─────────────────────────────────────────────────────────────
   */

  /* Primary Colors - Steel Blue (from Docsy #30638e, hue 246) */
  --color-primary: oklch(48.5% .089 246.4);
  --color-primary-50: oklch(96.5% .012 246.4);
  --color-primary-100: oklch(93.5% .024 246.4);
  --color-primary-200: oklch(88% .044 246.4);
  --color-primary-300: oklch(78% .071 246.4);
  --color-primary-400: oklch(67% .105 246.4);
  --color-primary-500: oklch(58.5% .128 246.4);
  --color-primary-600: oklch(48.5% .089 246.4);
  --color-primary-700: oklch(42% .078 246.4);
  --color-primary-800: oklch(36% .065 246.4);
  --color-primary-900: oklch(30% .052 246.4);
  --color-primary-950: oklch(20% .035 246.4);

  /* Secondary Colors - Amber/Orange (from Docsy #ffa630, hue 68) */
  --color-secondary: oklch(79.6% .160 67.9);
  --color-secondary-50: oklch(97.5% .018 67.9);
  --color-secondary-100: oklch(95% .035 67.9);
  --color-secondary-200: oklch(90% .065 67.9);
  --color-secondary-300: oklch(83% .115 67.9);
  --color-secondary-400: oklch(76% .150 67.9);
  --color-secondary-500: oklch(79.6% .160 67.9);
  --color-secondary-600: oklch(72% .148 67.9);
  --color-secondary-700: oklch(63% .128 67.9);
  --color-secondary-800: oklch(53% .105 67.9);
  --color-secondary-900: oklch(43% .082 67.9);
  --color-secondary-950: oklch(30% .055 67.9);

  /* Neutral Colors - Neutral with OKLCH */
  --color-neutral: oklch(55.6% 0 0);
  --color-neutral-50: oklch(98.5% 0 0);
  --color-neutral-100: oklch(97% 0 0);
  --color-neutral-200: oklch(92.2% 0 0);
  --color-neutral-300: oklch(87% 0 0);
  --color-neutral-400: oklch(70.8% 0 0);
  --color-neutral-500: oklch(55.6% 0 0);
  --color-neutral-600: oklch(43.9% 0 0);
  --color-neutral-700: oklch(37.1% 0 0);
  --color-neutral-800: oklch(26.9% 0 0);
  --color-neutral-900: oklch(20.5% 0 0);
  --color-neutral-950: oklch(14.5% 0 0);

  /*
   * Gray scale — converted from Bootstrap's gray palette used by Docsy.
   * Docsy grays have a very slight cool/blue cast (~248° hue)
   * which is preserved here for visual continuity.
   */
  --color-gray-50: oklch(98.2% .002 247.8);
  --color-gray-100: oklch(98.2% .002 247.8);
  --color-gray-200: oklch(94.2% .005 247.9);
  --color-gray-300: oklch(91.1% .007 247.9);
  --color-gray-400: oklch(86.7% .011 247.9);
  --color-gray-500: oklch(76.9% .015 248.0);
  --color-gray-600: oklch(55.8% .016 244.9);
  --color-gray-700: oklch(42.8% .015 248.2);
  --color-gray-800: oklch(34.5% .013 248.2);
  --color-gray-900: oklch(26.2% .009 248.2);
  --color-gray-950: oklch(18% .008 248.2);

  /* Zinc color scale with OKLCH */
  --color-zinc-50: oklch(98.5% 0 0);
  --color-zinc-100: oklch(96.7% .001 286.375);
  --color-zinc-200: oklch(92% .004 286.32);
  --color-zinc-300: oklch(87.1% .006 286.286);
  --color-zinc-400: oklch(70.5% .015 286.067);
  --color-zinc-500: oklch(55.2% .016 285.938);
  --color-zinc-600: oklch(44.2% .017 285.786);
  --color-zinc-700: oklch(37% .013 285.805);
  --color-zinc-800: oklch(27.4% .006 286.033);
  --color-zinc-900: oklch(21% .006 285.885);
  --color-zinc-950: oklch(14.1% .005 285.823);

  /*
   * Semantic / status colors — ported from Docsy Bootstrap semantics.
   *   success  →  #3772ff  bright blue   (hue 264)
   *   info     →  #c0e0de  light teal    (hue 192)
   *   warning  →  #ed6a5a  coral         (hue  29)
   *   danger   →  #ed6a5a  coral         (hue  29, same as warning in Docsy)
   */
  --color-success: oklch(59.6% .219 263.8);
  --color-success-50: oklch(96% .025 263.8);
  --color-success-100: oklch(92% .048 263.8);
  --color-success-200: oklch(85% .090 263.8);
  --color-success-300: oklch(74% .150 263.8);
  --color-success-400: oklch(65% .200 263.8);
  --color-success-500: oklch(59.6% .219 263.8);
  --color-success-600: oklch(52% .195 263.8);
  --color-success-700: oklch(44% .165 263.8);
  --color-success-800: oklch(36% .130 263.8);
  --color-success-900: oklch(28% .095 263.8);
  --color-success-950: oklch(18% .060 263.8);

  --color-info: oklch(88.3% .034 191.9);
  --color-info-50: oklch(97% .008 191.9);
  --color-info-100: oklch(94% .016 191.9);
  --color-info-200: oklch(90% .028 191.9);
  --color-info-300: oklch(85% .038 191.9);
  --color-info-400: oklch(82% .040 191.9);
  --color-info-500: oklch(88.3% .034 191.9);
  --color-info-600: oklch(78% .038 191.9);
  --color-info-700: oklch(68% .034 191.9);
  --color-info-800: oklch(56% .028 191.9);
  --color-info-900: oklch(44% .022 191.9);
  --color-info-950: oklch(30% .015 191.9);

  --color-warning: oklch(68.1% .165 29.1);
  --color-warning-50: oklch(96.5% .018 29.1);
  --color-warning-100: oklch(93% .035 29.1);
  --color-warning-200: oklch(87% .065 29.1);
  --color-warning-300: oklch(78% .110 29.1);
  --color-warning-400: oklch(72% .145 29.1);
  --color-warning-500: oklch(68.1% .165 29.1);
  --color-warning-600: oklch(60% .152 29.1);
  --color-warning-700: oklch(51% .130 29.1);
  --color-warning-800: oklch(42% .105 29.1);
  --color-warning-900: oklch(33% .080 29.1);
  --color-warning-950: oklch(22% .052 29.1);

  --color-danger: oklch(68.1% .165 29.1);
  --color-danger-50: oklch(96.5% .018 29.1);
  --color-danger-100: oklch(93% .035 29.1);
  --color-danger-200: oklch(87% .065 29.1);
  --color-danger-300: oklch(78% .110 29.1);
  --color-danger-400: oklch(72% .145 29.1);
  --color-danger-500: oklch(68.1% .165 29.1);
  --color-danger-600: oklch(60% .152 29.1);
  --color-danger-700: oklch(51% .130 29.1);
  --color-danger-800: oklch(42% .105 29.1);
  --color-danger-900: oklch(33% .080 29.1);
  --color-danger-950: oklch(22% .052 29.1);

  /* Dark / Light surface colors (from Docsy --bs-dark / --bs-light) */
  --color-dark: oklch(37.4% .022 288.8);
  --color-light: oklch(94.0% .034 185.2);

  /* Indigo kept for any remaining Tailbliss template references */
  --color-indigo-50: oklch(96.2% .018 272.314);
  --color-indigo-100: oklch(93% .034 272.788);
  --color-indigo-200: oklch(87% .065 274.039);
  --color-indigo-300: oklch(78.5% .115 274.713);
  --color-indigo-400: oklch(67.3% .182 276.935);
  --color-indigo-500: oklch(58.5% .233 277.117);
  --color-indigo-600: oklch(51.1% .262 276.966);
  --color-indigo-700: oklch(45.7% .24 277.023);
  --color-indigo-800: oklch(39.8% .195 277.366);
  --color-indigo-900: oklch(35.9% .144 278.697);
  --color-indigo-950: oklch(25.7% .09 281.288);

  /* White and black */
  --color-white: #fff;
  --color-black: #000;

  /* Custom line heights */
  --line-height-extra-loose: 2.5;
  --line-height-12: 3rem;
}

/* Font family configuration — Open Sans added to match Docsy */
:root {
  font-family: "Open Sans", ui-sans-serif,
  system-ui,
  -apple-system,
  BlinkMacSystemFont,
  "Segoe UI",
  Roboto,
  "Helvetica Neue",
  Arial,
  "Noto Sans",
  sans-serif,
  "Apple Color Emoji",
  "Segoe UI Emoji",
  "Noto Color Emoji",
  "Segoe UI Symbol",
  "Android Emoji",
  "EmojiSymbols";
}

/* Custom prose styles for markdown content */
.prose {
  max-width: 65ch;
  color: var(--color-gray-800);
}

.prose h1 {
  color: var(--color-gray-900);
  font-weight: 800;
  font-size: 2.25rem;
  margin-top: 0;
  margin-bottom: 0.8888889rem;
  line-height: 1.1111111;
}

.prose h2 {
  color: var(--color-gray-900);
  font-weight: 700;
  font-size: 1.5rem;
  margin-top: 2rem;
  margin-bottom: 1rem;
  line-height: 1.3333333;
}

.prose h3 {
  color: var(--color-gray-900);
  font-weight: 600;
  font-size: 1.25rem;
  margin-top: 1.6rem;
  margin-bottom: 0.6rem;
  line-height: 1.6;
}

.prose h4, .prose h5, .prose h6 {
  color: var(--color-gray-900);
  font-weight: 600;
  margin-top: 1.5rem;
  margin-bottom: 0.5rem;
  line-height: 1.625;
}

.prose p {
  margin-top: 1.25rem;
  margin-bottom: 1.25rem;
  line-height: 1.75;
}

/* Links use primary-600 to match Docsy's steel-blue link color */
.prose a {
  color: var(--color-primary-600);
  text-decoration: underline;
  font-weight: 500;
}

.prose a:hover {
  color: var(--color-primary-500);
}

.prose strong {
  color: var(--color-gray-900);
  font-weight: 600;
}

.prose ul {
  list-style-type: disc;
  margin-top: 1.25rem;
  margin-bottom: 1.25rem;
  padding-left: 1.625rem;
}

.prose ol {
  list-style-type: decimal;
  margin-top: 1.25rem;
  margin-bottom: 1.25rem;
  padding-left: 1.625rem;
}

.prose li {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
}

.prose blockquote {
  font-weight: 500;
  font-style: italic;
  color: var(--color-gray-900);
  border-left-width: 0.25rem;
  border-left-color: var(--color-gray-300);
  quotes: "\201C""\201D""\2018""\2019";
  margin-top: 1.6rem;
  margin-bottom: 1.6rem;
  padding-left: 1rem;
}

/* Inline code uses Docsy's warm brown (#99641d → warning hue) */
.prose code {
  color: var(--color-warning-600);
  font-weight: 600;
  font-size: 0.875rem;
  background-color: var(--color-gray-200);
  padding: 0.25rem 0.375rem;
  border-radius: 0.375rem;
}

.prose pre {
  color: var(--color-gray-200);
  background-color: var(--color-gray-900);
  overflow-x: auto;
  font-weight: 400;
  font-size: 0.875rem;
  line-height: 1.7142857;
  margin-top: 1.7142857rem;
  margin-bottom: 1.7142857rem;
  border-radius: 0.375rem;
  padding: 0.8571429rem 1.1428571rem;
}

/* Code inside pre blocks uses the warm amber tone */
.prose pre code {
  background-color: transparent;
  border-width: 0;
  border-radius: 0;
  padding: 0;
  font-weight: inherit;
  color: var(--color-secondary-400);
  font-size: inherit;
  font-family: inherit;
  line-height: inherit;
}

.prose table {
  width: 100%;
  table-layout: auto;
  margin-top: 2rem;
  margin-bottom: 2rem;
  font-size: 0.875rem;
  line-height: 1.7142857;
  border-collapse: collapse;
  border-spacing: 0;
}

.prose thead {
  border-bottom: 1px solid var(--color-gray-300);
}

.prose thead th {
  color: var(--color-gray-900);
  font-weight: 600;
  vertical-align: bottom;
  padding-right: 0.5714286rem;
  padding-bottom: 0.5714286rem;
  padding-left: 0.5714286rem;
  text-align: left;
}

.prose tbody tr {
  border-bottom: 1px solid var(--color-gray-200);
}

.prose tbody tr:last-child {
  border-bottom-width: 0;
}

.prose tbody td {
  vertical-align: baseline;
  padding: 0.5714286rem;
}

.prose tbody td p {
  margin: 0;
}

/* Dark mode prose styles */
.dark .prose {
  color: var(--color-gray-200);
}

.dark .prose h1,
.dark .prose h2,
.dark .prose h3,
.dark .prose h4,
.dark .prose h5,
.dark .prose h6 {
  color: var(--color-white);
}

.dark .prose strong {
  color: var(--color-white);
}

/* Dark-mode links use the muted blue from Docsy's --bs-link-color dark (#83a1bb) */
.dark .prose a {
  color: var(--color-primary-300);
}

.dark .prose a:hover {
  color: var(--color-primary-200);
}

.dark .prose blockquote {
  color: var(--color-gray-200);
  border-left-color: var(--color-gray-600);
}

/* Dark-mode code uses the warm amber tone from Docsy (#c2a277) */
.dark .prose code {
  color: var(--color-secondary-300);
  background-color: var(--color-gray-800);
}

.dark .prose pre {
  color: var(--color-gray-200);
  background-color: var(--color-gray-900);
}

.dark .prose pre code {
  color: var(--color-secondary-200);
}

.dark .prose thead {
  border-bottom-color: var(--color-gray-600);
}

.dark .prose thead th {
  color: var(--color-white);
}

.dark .prose tbody tr {
  border-bottom-color: var(--color-gray-700);
}

/* Dark mode placeholder text fix */
.dark input::placeholder,
.dark textarea::placeholder {
  color: var(--color-gray-300);
  opacity: 1;
}

#cta-email .dark input::placeholder,
#cta-email .dark textarea::placeholder {
  color: var(--color-gray-400);
  opacity: 1;
}

/* Light mode placeholder text */
input::placeholder,
textarea::placeholder {
  color: var(--color-gray-500);
  opacity: 1;
}

/* CTA email placeholder - light mode */
#cta-email::placeholder {
  color: var(--color-gray-400);
  opacity: 1;
}

/* Custom CSS end */